
################################## data segment ###################################################

arr                 int                 num                 100                 
cst                 str                 STRCST0             "\nnum["            
cst                 str                 STRCST1             "] = "              

################################## text segment ###################################################

j                                                           main                
func                int                 getpower            3                   
para                int                 a                                       
para                int                 n                                       
para                int                 test                                    
blt                 n                   1                   label0              
subop               $t0                 n                   1                   
call                int                 getpower            $t1                 
parain              int                 a                   getpower            
subop               $t2                 n                   1                   
parain              int                 $t2                 getpower            
parain              int                 test                getpower            
sarr                $t1                 num                 $t0                 
subop               $t3                 n                   1                   
larr                $t4                 num                 $t3                 
mulop               $t5                 a                   $t4                 
ret                 int                 $t5                 getpower            
j                                                           label1              
setlab                                                      label0              
move                n                   1                                       
ret                 int                 n                   getpower            
setlab                                                      label1              
setlab                                                      end_getpower        
end                 func                getpower                                
func                void                main                0                   
cst                 int                 a                   10                  
var                 int                 m                                       
var                 int                 n                                       
var                 int                 i                                       
move                n                   10                                      
call                int                 getpower            $t0                 
addop               $t1                 1                   2                   
parain              int                 $t1                 getpower            
parain              int                 n                   getpower            
sarr                $t0                 num                 n                   
move                i                   0                                       
setlab                                                      label2              
bgt                 i                   n                   label3              
print               str                 STRCST0                                 
print               int                 i                                       
print               str                 STRCST1                                 
larr                $t2                 num                 i                   
print               int                 $t2                                     
addop               $t3                 i                   1                   
move                i                   $t3                                     
j                                                           label2              
setlab                                                      label3              
setlab                                                      end_main            
end                 func                main                                    

###################################### end ########################################################
